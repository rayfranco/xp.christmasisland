(function(){var e;e=function(){function e(){}return e}()}).call(this),function(){var e;e=function(){function e(){}return e}()}.call(this),function(){if("undefined"==typeof $||null===$)throw"jQuery is not installed";$(function(){var e,n,t,o,a,i,r,s,u,d,c,l,E,w,m,h,y,f,p,g,z,T,v,H,b;for(o=.5,h=new THREE.Scene,e=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),y=document.getElementById("scene"),m=new THREE.WebGLRenderer({canvas:y}),m.setSize(window.innerWidth,window.innerHeight),T=document.getElementById("trackerCanvas"),v=document.getElementById("trackerVideo"),n=new headtrackr.Tracker({ui:!1,headPosition:!0,calcAngles:!1}),n.init(v,T),n.start(),E=new THREE.PointLight(255),E.position.x=10,E.position.y=50,E.position.z=130,h.add(E),e.position.z=50,e.position.y=50,d=5e3,l=new THREE.Geometry,t=new THREE.ParticleBasicMaterial({size:10,map:THREE.ImageUtils.loadTexture("assets/particle.png"),blending:THREE.AdditiveBlending,depthTest:!1,transparent:!0}),a=b=0;d>=0?d>b:b>d;a=d>=0?++b:--b)i=500*Math.random()-250,r=500*Math.random()-250,s=500*Math.random()-250,u=new THREE.Vector3(i,r,s),u.velocity=new THREE.Vector3(0,-Math.random(),0),l.vertices.push(u);if(c=new THREE.ParticleSystem(l,t),c.sortParticles=!0,h.add(c),"undefined"==typeof buzz||null===buzz)throw"Buzz is not installed";return f={preload:!0,autoplay:!1,loop:!0},p=new buzz.sound("assets/loop1.wav",f),g=new buzz.sound("assets/loop2.wav",f),z=new buzz.sound("assets/loop3.wav",f),buzz.all().bindOnce("canplaythrough",function(){return console.log("canplaythrough"),buzz.all().play()}),p.setVolume(100),g.setVolume(20),z.setVolume(0),console.log(buzz.all()),w=function(){var n,a,i,r,s;for(TWEEN.update(),requestAnimationFrame(w),m.render(h,e),i=5e-5*Date.now(),n=360*(1+i)%360/360,t.color.setHSV(n,1,1),s=[],a=r=0;d>=0?d>r:r>d;a=d>=0?++r:--r)u=l.vertices[a],-200>u.y&&(u.y=200),new TWEEN.Tween(u).to({x:u.x+1e3*Math.random()*(o-50),y:u.y+100*Math.random()*(o-50)},.2),s.push(u.addSelf(u.velocity));return s},w(),H={getUserMedia:"You got that camera","no getUserMedia":"u shy ? Turn that camera on...","camera found":"Camera is working","no camera":"Hey, u dat shy ?",detecting:"Don't hide, tryin to find u...",found:"Gotcha ! You can move now :)",lost:"Hey !! Where are ya ??",redetecting:"Tryin to find you again"},document.addEventListener("headtrackrStatus",function(e){return e.status in H?console.log(H[e.status]):void 0}),document.addEventListener("facetrackingEvent",function(n){var t,a;return t=o=n.x/320,a=n.y/240,new TWEEN.Tween(e.position).to({x:200*-t,y:200*a},980).easing(TWEEN.Easing.Cubic.Out).onUpdate(function(){}).start(),p.setVolume(100*t),g.setVolume(100-100*t),z.setVolume(100-150*t)}),window.camera=e})}.call(this);